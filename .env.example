# ==================== 基础配置 ====================
PORT=8000
DB_DRIVER=sqlite
DB_DSN=/app/data/app.db

# ==================== JWT配置 ====================
# 生产环境请修改为随机密钥
JWT_SECRET=change_me
JWT_TTL=86400
COOKIE_NAME=auth_token

# ==================== 上传配置 ====================
UPLOAD_DIR=/app/data/uploads
UPLOAD_BASE_URL=/uploads
MAX_UPLOAD_MB=5

# ==================== 管理员配置 ====================
# 首次启动时会创建此管理员账户
ADMIN_INIT_USER=admin
ADMIN_INIT_PASS=change_me

# ==================== 限流配置 ====================
RATE_LIMIT_RPS=50000
RATE_LIMIT_BURST=50000

# ==================== 发帖限制 ====================
ACTION_POST_COUNT=1000000
ACTION_POST_WINDOW_SEC=1
QUOTA_POSTS_PER_USER_PER_DAY=100
QUOTA_POSTS_PER_IP_PER_DAY=10000

# ==================== 评论限制 ====================
ACTION_COMMENT_COUNT=3000
ACTION_COMMENT_WINDOW_SEC=1
QUOTA_COMMENTS_PER_USER_PER_HOUR=10000
QUOTA_COMMENTS_PER_IP_PER_HOUR=100000

# ==================== 内容长度限制 ====================
MAX_POST_CHARS=2000
MAX_COMMENT_CHARS=500

# ==================== AI配置（可选）====================
AI_BASE_URL=https://instcopilot-api.com/
AI_API_KEY=your_api_key
AI_MODEL=gpt-5-nano
AI_RATE_RPS=1000
AI_RATE_BURST=1000

# ==================== 验证码配置（可选）====================
# Geetest CAPTCHA (极验行为验证)
# 从 https://www.geetest.com 后台获取
GEETEST_CAPTCHA_ID=your_captcha_id
GEETEST_CAPTCHA_KEY=your_captcha_key

# ==================== Redis和缓存配置 ====================
# 注意：Docker Compose模式下，Redis配置在docker-compose.yml中
# 本地开发模式（不使用Docker Compose）可以在这里配置：
# REDIS_ENABLED=false                 # 关闭Redis，使用内存缓存
# REDIS_ADDR=127.0.0.1:6379          # 或连接本地Redis
# REDIS_PASSWORD=
# REDIS_DB=0
# CACHE_MAX_ENTRIES=2048
# CACHE_USER_TTL_MS=1800000
# CACHE_USER_LIST_TTL_MS=300000
